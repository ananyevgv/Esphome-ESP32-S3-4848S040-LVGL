  # THERMOSTAT PAGE
  - id: page_thermostat
    bg_color: color_black
    widgets:
      - obj:
          bg_opa: TRANSP
          border_opa: TRANSP
          shadow_opa: TRANSP
          width: 480
          height: 480
          widgets:
            - meter:
                height: 320
                width: 320
                border_width: 0
                bg_opa: TRANSP
                align: CENTER
                scales:
                  - range_from: 5
                    range_to: 45
                    angle_range: 270
                    ticks:
                      width: 1
                      count: 41
                      length: 10
                      color: color_white
                      major:
                        stride: 5
                        width: 5
                        length: 15
                        color: color_white
                        label_gap: 15
                    indicators:
                      - tick_style:
                          start_value: 5
                          end_value: 45
                          color_start: color_blue
                          color_end: color_crimson
                          width: 1

            - arc:
                id: arc_id1
                align: CENTER
                arc_width: 36
                width: 400
                height: 400
                min_value: 5
                max_value: 45
                adjustable: true
                adv_hittest: true
                arc_opa: TRANSP
                indicator:
                  arc_color: color_deep_orange
                  arc_width: 40
                knob:
                  border_color: color_deep_orange
                  border_width: 8
                  bg_color: color_amber
                on_release:
                  - homeassistant.service:
                      service: climate.set_temperature
                      data:
                        entity_id: climate.display_living_room_thermostat
                        temperature: !lambda return x;

            - arc:
                id: arc_sensor_temp
                clickable: false
                align: CENTER
                arc_width: 24
                width: 370
                height: 370
                min_value: 5
                max_value: 45
                value: 22
                adjustable: true
                arc_opa: TRANSP
                indicator:
                  arc_opa: TRANSP
                knob:
                  border_opa: TRANSP
                  bg_color: color_white


            - obj:
                align: CENTER
                bg_color: color_black
                border_opa: TRANSP
                shadow_opa: TRANSP
                width: 220
                height: 220
                radius: 110

            - label:
                id: heating_icon
                y: 40
                align: CENTER
                text_font: icons_24
                text: "${empty}"

            - label:
                id: thermostat_status
                y: -80
                x: 0
                align: CENTER
                text_font: nunito_24
                text_color: color_white
                text: " "

            - label:
                id: target_temperature_whole
                x: -200
                y: -20
                align: RIGHT_MID
                text_font: nunito_84
                text_color: color_white
                text: " "
        
            - label:
                id: target_temperature_fraction
                x: 248
                y: -5
                align: LEFT_MID
                text_font: nunito_36
                text_color: color_white
                text: " "

            - label:
                id: target_temperature_measurement
                x: 245
                y: -40
                align: LEFT_MID
                text_font: nunito_30
                text_color: color_white
                text: "Â°C"

            - label:
                id: sensor_temperature_thermostat_icon
                y: 80
                x: -37
                align: CENTER
                text_font: icons_24
                text_color: color_white
                text: "${temperature}"

            - label:
                id: sensor_temperature_thermostat
                y: 80
                x: 10
                align: CENTER
                text_font: nunito_20
                text_color: color_white
                text: "0"

            - button:
                x: 50
                y: -40
                width: 70
                height: 70
                bg_color: color_black
                border_color: color_gray
                border_width: 5
                shadow_opa: TRANSP
                radius: 35
                align: BOTTOM_MID
                widgets:
                  - label:
                      y: -2
                      align: CENTER
                      text_font: nunito_48
                      text_color: color_gray
                      text: "+"
                on_press:
                    then:
                      - lambda: |-
                          auto temp = id(thermostat_id1).state + 0.5;
                          id(thermostat_id1).publish_state(temp);
                      - homeassistant.service:
                          service: climate.set_temperature
                          data:
                            entity_id: climate.display_living_room_thermostat
                            temperature: !lambda 'return id(thermostat_id1).state;'
            - button:
                x: -50
                y: -40
                width: 70
                height: 70
                bg_color: color_black
                border_color: color_gray
                border_width: 5
                shadow_opa: TRANSP
                radius: 35
                align: BOTTOM_MID
                widgets:
                  - label:
                      y: -2
                      align: CENTER
                      text_font: nunito_48
                      text_color: color_gray
                      text: "-"
                on_press:
                    then:
                      - lambda: |-
                          auto temp = id(thermostat_id1).state - 0.5;
                          id(thermostat_id1).publish_state(temp);
                      - homeassistant.service:
                          service: climate.set_temperature
                          data:
                            entity_id: climate.display_living_room_thermostat
                            temperature: !lambda 'return id(thermostat_id1).state;'

      - button:
          bg_opa: TRANSP
          shadow_opa: TRANSP
          align: BOTTOM_LEFT
          widgets:
            - label:
                text_font: montserrat_22
                text_color: color_dark_gray
                text: "\uF015"
          on_press:
            then:
              - lvgl.page.show: 
                  id: page_home
                  animation: OUT_RIGHT
                  time: 300ms


